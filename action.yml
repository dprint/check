
name: 'dprint-check-action'
description: 'Run `dprint check` on your source code'
author: 'thomaseizinger'
inputs:
  dprint-version:
    description: The specific dprint version to install (ex. 0.17.0).
    default: "latest"
runs:
  using: 'composite'
  steps:
    - name: Install dprint
      shell: bash
      run: |
        echo "Installing dprint ${{ inputs.dprint-version }}"
        if [[ ${{ inputs.dprint-version }} -eq "latest" ]]; then (curl -fsSL https://dprint.dev/install.sh | sh > /dev/null 2>&1); else (curl -fsSL https://dprint.dev/install.sh | sh -s ${{ inputs.dprint-version }} > /dev/null 2>&1); fi
        echo "/home/runner/.dprint/bin" >> $GITHUB_PATH
    - name: Check formatting
      shell: bash
      run: dprint check
branding:
  icon: 'check-circle'
  color: 'gray-dark'
